# Your First Program:





![[Pasted image 20250717222000.png]]

there is a simple picture that shows the relationship between the cpu and the other devices . The first device is that memory which is used for the short term memory like RAM and the second is that Disk which is used for the long-term memory and then the third is the Networks+others is that networks cards that is used for the other local network communication and the bridge is that  It's the communication highway within the computer. It allows different components to send and receive data, addresses, and control signals to each other.


**Registers:**

- **Purpose:** These are small, extremely fast storage locations located directly inside the CPU. They hold data and instructions that the CPU is currently working on.


64 32 16 8H 8L  
rax eax ax ah al  
rcx ecx cx ch cl  
rdx edx dx dh dl  
rbx ebx bx bh bl  
rsp esp sp spl  
rbp ebp bp bpl  
rsi esi si sil  
rdi edi di dil  
r8 r8d r8w r8b  
r9 r9d r9w r9b  
r10 r10d r10w r10b  
r11 r11d r11w r11b  
r12 r12d r12w r12b  
r13 r13d r13w r13b  
r14 r14d r14w r14b  
r15 r15d r15w r15b



## Register :

The eax is the 32 -bit register 

The `rsp` register stands for **"Stack Pointer Register"** in **x86-64 (64-bit)** architecture.
## What `rsp` Does:

- `rsp` **points to the top of the stack** in memory.
    
- The stack is used for:
    
    - **Function calls**
        
    - **Local variables**
        
    - **Return addresses**
        
    - **Saving registers**


The code 
.global  _start
_start:
   mov rx,60
   syscall

it mean that the code tells the cpu that there is a normal execution and going to exit 
if doesn't mean it that it will crash , it will execute like abnormal 


The code :

.intel_syntax noprefix
.global _start
_start:
   mov rax,60
   mov rdi,0
   syscall


## where the rdi is the error code and then rax is the syscall numer 


.intel_syntax noprefix
.global _start
_start:
   mov rax,60
   mov rdi,rsi
   syscall

# where the rsi is the substite of the 0 where the value of the rsi will be 0

|Register|Name|Description|
|---|---|---|
|`rax`|Accumulator|Often used for return values or syscall number|
|`rdi`|Destination Index|First function or syscall argument|
|`rsi`|Source Index|Second function or syscall argument|

## strace:

It is the linux command it is used to trace the all sys system calls 
-->strace /program_name

It shows **every syscall** your program makes — like `open()`, `read()`, `write()`, `execve()`, `exit()` — and the arguments, return values, and any errors.

`strace` will use functionality of the Linux operating system to introspect and record every system call that the program invokes, and its result.


 mov rax,0x12345
 mov bh, [rax]

- **8 bits:** This refers to a single byte of data.
    
- **`0x12345`:** This is a hexadecimal memory address.
    
- **`bh`:** This is the high byte of the `bx` register. In x86 architecture, general-purpose registers like `rbx` can be accessed in smaller parts:
    
    - `rbx`: 64-bit
        
    - `ebx`: Lower 32-bit of `rbx`
        
    - `bx`: Lower 16-bit of `ebx`
        
    - `bh`: High 8-bit of `bx`
        
    - `bl`: Low 8-bit of `bx`



mov rax, 0
mov rbx, [rsp+rax*8]
inc rax
mov rcx, [rsp+rax*8]

in this above rax=0
rsp is the top of the stack and then rsp=0
rsp+0 is the top of the stack


--> mov rax, 0x133337
mov DWORD PTR [rax], 0x1337
 it is that the rax is 0x133337
 and then the 4-bytes of the 0x13337 of the 0x13337 is assigned to the memmory address of the [rax] ..